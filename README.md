Маланьин Артём Денисович, БПИ218


Вариант 27

Задача про экзамен. Преподаватель проводит экзамен у группы студентов. Каждый студент получает свой билет, сообщает его
номер и готовит письменный ответ. Подготовив ответ, он передает его преподавателю. Преподаватель просматривает ответ и сообщает студенту оценку. Студент, дождавшись результата, уходит с
экзамена. Требуется создать приложение, моделирующее
действия преподавателя и студентов, каждый из которых представлен отдельным процессом. Преподаватель —
сервер. Каждый студент — отдельный клиент.


Сценарий:

В решении в роли преподавателя выступает сервер, а в роли студента - клиент.
При запуске сервера в качестве параметров мы передаем порт и количество студентов в группе.
Далее при запуске клиента моделируется процесс сдачи экзамена. Если ко "входу в аудиторию" готово сразу несколько студентов, они входят в том порядке, в котором подошли к аудитории. Пока один студент сдает экзамен, остальные ждут за дверью.

Во время сдачи экзамена клиент и сервер передают друг другу информацию посредством методов sendto и recvfrom, сокет клиента сервер узнает после того, как сработает recvfrom.

При сдаче экзамена номер билета и оценка генерируются случайным образом при помощи rand, а ответ студента вводится с клавиатуры через клиент.

После завершения сдачи студентом экзамена, он выходит из аудитории и клиент завершает свою работу, а сервер продолжает ждать следующего студента, если они еще остались.

Завершение работы сервера происходит, если количество сдавших экзамен студентов становится равно количеству студентов в группе, или же при вводе ctrl+C в терминале.


Команды для запуска


Сервер:

gcc UDPTeacherServer.c DieWithError.c -o UDPTeacherServer

./UDPTeacherServer 5000 3

где 5000 - порт, а 3 - число студентов в группе


Клиент:

gcc UDPStudentClient.c DieWithError.c -o UDPStudentClient

./UDPStudentClient 127.0.0.1 5000

где 127.0.0.1 - IP-адрес, а 5000 - порт сервера





